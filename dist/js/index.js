(()=>{"use strict";let e,n=0;function t(){const e=document.querySelector(".slides-container"),t=document.querySelectorAll(".dot");e.style.transform="translateX(-"+100*n+"%)",t.forEach(function(e,t){t===n?(e.className="dot bg-brand-red text-white text-xs font-bold rounded-full flex items-center justify-center transition-all w-8 h-8 border-none",e.innerHTML='<span class="font-extrabold text-sm">'+(t+1)+"</span>"):(e.className="dot w-3 h-3 opacity-100 rounded-full transition-all bg-color-pagination border-none",e.innerHTML="")})}function o(){clearInterval(e),e=setInterval(function(){window.moveSlide(1)},5e3)}window.moveSlide=function(e){const l=document.querySelectorAll(".slide-item");n=(n+e+l.length)%l.length,t(),o()},window.goToSlide=function(e){n=e,t(),o()};let l=1,i=!1,a=!0;const r=async e=>{if(!i&&a)if(l>5)a=!1;else{i=!0;try{const e=await fetch(`/js/api/category-post-list.json?page=${l}`);if(!e.ok)throw new Error("Kategori verisi alınamadı");const n=(await e.json()).data.news.data;if(0===n.length)return a=!1,void(i=!1);s(n),l++}catch(e){console.error("Fetch hatası:",e),c("Haberler yüklenemedi")}finally{i=!1}}},s=e=>{const n=document.querySelector(".news-infinite .grid");n&&e.forEach(e=>{const t=document.createElement("div");t.className="flex rounded-sm border overflow-hidden border-solid border-mist bg-white",t.innerHTML=`\n      <figure class="flex flex-col m-0 p-0">\n        <div class="news-img w-full overflow-hidden m-0 h-[140px] sm:h-[207px] md:h-[115px] lg:h-[160px]">\n          <a class="no-underline" href="${e.url||"#"}">\n            <img \n              src="${e.image.path}" \n              alt="${e.title}" \n              loading="lazy" \n              class="news-card-image w-full h-full object-cover" \n              width="${e.image.width}" \n              height="${e.image.height}"\n            >\n          </a>\n        </div>\n        <figcaption class="flex flex-col gap-2 m-0 p-3 md:p-4">\n          <a class="no-underline color-dark flex flex-col gap-5 hover:brand-red" href="${e.url||"#"}">\n            <span class="font-bold text-base line-clamp-2 leading-snug">\n              ${e.title}\n            </span>\n            ${e.categoryName?`\n            <div class="hashtag">\n              <span class="text-sm">#${e.categoryName}</span>\n            </div>\n            `:""}\n          </a>\n        </figcaption>\n      </figure>\n    `,n.appendChild(t)})},c=e=>{const n=document.querySelector(".news-infinite .grid");n&&(n.innerHTML=`<p class="text-red-500 text-center">${e}</p>`)};document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("scroll",()=>{if(i||!a)return;const e=window.scrollY,n=window.innerHeight;document.documentElement.scrollHeight-(e+n)<700&&r()}),r(),t(),o()})})();